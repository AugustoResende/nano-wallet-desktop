{{#with (changeset block SendValidations) as |model|}}
  {{#bs-form model=model onSubmit=(action onSubmit) as |form|}}
    {{#form.element controlType="power-select" label=(t 'wallets.accounts.send.source')
        required=true options=accounts property='source' onChange=(action onChange) as |el|}}
      {{#el.control searchField="id" searchPlaceholder=(t 'wallets.accounts.send.search') as |item|}}
        <div>{{account-address value=item.id truncate=25}} ({{format-amount (if item.amount item.amount item.balance)}})</div>
      {{/el.control}}
    {{/form.element}}

    {{form.element controlType="text" label=(t 'wallets.accounts.send.destination') property="destination"
        autocomplete='on' minlength=64 maxlength=64 required=true pattern="^xrb_[13](?![lv])[a-z1-9]{59}$"
        placeholder=(t 'wallets.accounts.send.placeholder')}}

    {{form.element controlType="text" label=(t 'wallets.accounts.send.amount')
        model=(changeset (hash amount=null) ChangeAmountValidations) property='amount'
        required=true minlength=1 pattern="^\d*\.?\d+$"
        onChange=(action 'changeAmount' model)}}

    <div role="group" class="d-flex justify-content-center">
      {{#bs-button disabled=model.isInvalid size="lg" type="none" icon="fa fa-paper-plane" buttonType="submit" class="text-light"}}
        {{t 'send'}}
      {{/bs-button}}
    </div>
  {{/bs-form}}
{{/with}}
